!function(e){function n(r){if(t[r])return t[r].exports;var u=t[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";var r=t(1)["default"],u=t(2)["default"],o=t(5)["default"],i=t(4),a=o(i),c=t(9),l=o(c),s=t(11),f=o(s);!function(){function e(e,n){e.enemies.length>n.enemies.length&&a["default"].invaderDiesSound.play()}var n=a["default"].canvas;l["default"].addListeners(),window.addEventListener("load",function(){function t(e){d.fillStyle=e.color,d.fillRect(e.x,e.y,e.w,e.h)}function o(e){d.drawImage(y,e.x,e.y)}function i(e){d.drawImage(p,e.x,e.y)}function c(e,r){d.clearRect(0,0,n.width,n.height),e.enemies.map(function(e){return i(e)}),e.enemyBullets.concat(e.playerBullets).map(function(e){return t(e)}),e.particles.map(function(e){return t(e)}),e.player&&!e.playerDying&&o(e.player),requestAnimationFrame(function(){return s(e,r)})}function s(n,t){var o=(new Date).getTime(),i=o-(t||o),a=r({},l["default"]);u(a);var s=n.updateIfGameIsRunning(a,i);e(n,s),c(s,o)}var d=void 0,y=document.getElementById("player"),p=document.getElementById("invader");void 0===n.getContext?console.error("browser does not support canvas"):d=n.getContext("2d"),n.width=800,n.height=600,c((0,f["default"])({inputs:a["default"]}),0)})}()},function(e,n,t){e.exports={"default":t(12),__esModule:!0}},function(e,n,t){e.exports={"default":t(13),__esModule:!0}},function(e,n){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={canvas:document.getElementById("screen"),status:document.getElementById("status"),playerShootSound:document.getElementById("player-shoots"),invaderShootSound:document.getElementById("invader-shoots"),invaderDiesSound:document.getElementById("invader-explodes"),playerDiesSound:document.getElementById("player-explodes")},e.exports=n["default"]},function(e,n){"use strict";n["default"]=function(e){return e&&e.__esModule?e:{"default":e}},n.__esModule=!0},function(e,n,t){var r=t(18),u=t(3),o=t(16),i="prototype",a=function(e,n,t){var c,l,s,f=e&a.F,d=e&a.G,y=e&a.S,p=e&a.P,v=e&a.B,m=e&a.W,g=d?u:u[n]||(u[n]={}),h=d?r:y?r[n]:(r[n]||{})[i];d&&(t=n);for(c in t)l=!f&&h&&c in h,l&&c in g||(s=l?h[c]:t[c],g[c]=d&&"function"!=typeof h[c]?t[c]:v&&l?o(s,r):m&&h[c]==s?function(e){var n=function(n){return this instanceof e?new e(n):e(n)};return n[i]=e[i],n}(s):p&&"function"==typeof s?o(Function.call,s):s,p&&((g[i]||(g[i]={}))[c]=s))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},function(e,n,t){"use strict";function r(e){return Array.apply(null,Array(e))}function u(e,n){return n>e?c(r(n-e).map(function(n,t){return e+t})):[e]}function o(e,n){for(var t=arguments,r=!0;r;){var u=e,o=n;r=!1;for(var i=t.length,a=Array(i>2?i-2:0),c=2;i>c;c++)a[c-2]=t[c];if(u())return o();if(!(a.length>1)){if(1===a.length)return a[0]();throw"no matching values"}t=a,e=t[0],n=t[1],r=!0,i=a=c=void 0}}function i(e,n){var t=l([],e);return t.push(n),c(t),t}function a(e,n){return e+(n-e)*Math.random()}var c=t(2)["default"],l=t(1)["default"];Object.defineProperty(n,"__esModule",{value:!0}),n.createSizedArr=r,n.range=u,n.cond=o,n.conj=i,n.randomBetween=a},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={rightPressedKey:!1,leftPressedKey:!1,spacePressedKey:!1,rPressedKey:!1,addListeners:function(){var e=this;document.addEventListener("keyup",function(n){37===n.keyCode?e.leftPressedKey=!1:39===n.keyCode?e.rightPressedKey=!1:32===n.keyCode?e.spacePressedKey=!1:82===n.keyCode&&(e.rPressedKey=!1)}),document.addEventListener("keydown",function(n){37===n.keyCode?e.leftPressedKey=!0:39===n.keyCode?e.rightPressedKey=!0:32===n.keyCode?e.spacePressedKey=!0:82===n.keyCode&&(e.rPressedKey=!0)})}},e.exports=n["default"]},function(e,n,t){"use strict";function r(e,n){return function(t,r){var u=f({},n);return u[t]=r,e(u)}}function u(e,n){return function(t){var r=f({},n),u=f(r,t);return e(u)}}function o(e){var n=e.x,t=void 0===n?m.width/2:n,i=r(o,e),a=u(o,e),c=d({x:t,y:m.height-50,w:55,h:34,color:"blue",assoc:i,merge:a});return c}function i(e){var n=e.x,t=e.y,o=r(i,e),a=u(i,e),c=d({x:n,y:t,w:25,h:25,color:"white",assoc:o,merge:a,update:function(e,t){return o("x",n+e*t)}});return c}function a(e){var n=e.x,t=e.y,o=e.d,i=e.color,c=r(a,e),l=u(a,e),s=d({x:n,y:t,w:5,h:5,d:o,color:i,assoc:c,merge:l,update:function(e){return c("y",t+o*e)}});return s}function c(e){var n=e.x,t=e.y;return a({x:n,y:t,d:-.2,color:"yellow"})}function l(e){var n=e.x,t=e.y;return a({x:n,y:t,d:.2,color:"red"})}function s(e){var n=e.x,t=e.y,o=e.vx,i=e.vy,a=e.color,c=r(s,e),l=u(s,e),f=d({x:n,y:t,vx:o,vy:i,w:3,h:3,assoc:c,merge:l,color:a,update:function(e){return l({x:f.x+f.vx*e,y:f.y+f.vy*e,vx:f.vx,vy:f.vy+.001*e})}});return f}var f=t(1)["default"],d=t(2)["default"],y=t(5)["default"];Object.defineProperty(n,"__esModule",{value:!0}),n.AssocMixin=r,n.MergeMixin=u,n.Player=o,n.Enemy=i,n.Bullet=a,n.PlayerBullet=c,n.EnemyBullet=l,n.Particle=s;var p=t(4),v=y(p),m=v["default"].canvas},function(e,n,t){"use strict";function r(e){function n(){var e=(0,a.range)(0,8),n=(0,a.range)(0,8);return e.map(function(e){return n.map(function(n){return(0,i.Enemy)({x:45*e,y:20+45*n})})}).reduce(function(e,n){return e.concat(n)},[])}function t(e){return(0,a.cond)(function(){return e.leftPressedKey===!0&&H.x>0},function(){return-1},function(){return e.rightPressedKey===!0&&H.x<j.canvas.width-55},function(){return 1},function(){return 0})}function c(e){return ee("player",(0,a.cond)(function(){return H},function(){return H.assoc("x",H.x+.5*t(e)*$)},function(){return!1}))}function l(e){return(0,a.cond)(function(){return e.spacePressedKey===!0},function(){return c(e).playerShoots()},function(){return c(e)})}function s(e){return e.rPressedKey?r({inputs:j}):te}function f(e,n){var t=s(e).assoc("thisFrameDuration",n);return D?t.updateGameLoop(e):t}function d(e){return e.filter(function(e){return e.x>0&&e.y>0&&e.x<j.canvas.width&&e.y<j.canvas.height})}function y(){return ne({playerBullets:d(R.map(function(e){return e.update($)})),enemyBullets:d(N.map(function(e){return e.update($)})),particles:d(T.map(function(e){return e.update($)})),enemies:z.map(function(e){return e.update(V,$)})})}function p(){return j.playerShootSound.play(),(0,a.conj)(R,(0,i.PlayerBullet)({x:H.x+H.w/2,y:H.y}))}function v(){var e=(0,a.cond)(function(){return 0===Y},p,function(){return R}),n=(0,a.cond)(function(){return Y>0},function(){return Y-1},function(){return Q}),t=ne({playerBulletNframeCounter:n,playerBullets:e});return t}function m(){var e=Math.floor(Math.random()*(z.length-1)),n=z[e],t=o([],N),r=(0,i.EnemyBullet)({x:n.x,y:n.y});t.push(r),j.invaderShootSound.play();var u=ee("enemyBullets",t);return u}function g(){return 30*Math.random()<=1&&!F?m():te}function h(){return j.status.innerHTML="You lose",ne({gameRunning:!1,playerDying:!1,enemies:[],enemyBullets:[],playerBullets:[],particles:[],player:!1})}function x(){return j.status.innerHTML="You win",ne({gameRunning:!1,playerDying:!1,enemies:[],playerBullets:[],enemyBullets:[],particles:[]})}function B(){var e=V,n=z,t=10,r=D;if(z.length>0){var u=z[0].x,o=z[z.length-1].x+z[0].w;(0>u&&0>V||o>j.canvas.width&&V>0)&&(e=-1*e,n=z.map(function(e){var n=e.y+t;return e.assoc("y",n)}));var i=n.some(function(e){return e.y>500});if(i&&!F)return h();var a=ne({velX:e,enemies:n,gameRunning:r});return a}return null}function w(e,n){var t=e.x<n.x+n.w,r=n.x<e.x+e.w,u=e.y+e.h>n.y,o=n.y+n.h>e.y;return t&&r&&u&&o}function P(e){return z.reduce(function(n,t){return n||(w(t,e)?t:null)},null)}function b(e,n){var t=(0,a.range)(0,5);return t.map(function(){return n.push((0,i.Particle)({x:e.x,y:e.y,vx:(0,a.randomBetween)(-.1,.1),vy:(0,a.randomBetween)(-.5,0),color:"rgba(255, 255, 255,"+Math.random()+")"}))})}function S(e,n){var t=(0,a.range)(0,60);return t.map(function(){return n.push((0,i.Particle)({x:e.x+15,y:e.y-15,vx:(0,a.randomBetween)(-.4,.4),vy:(0,a.randomBetween)(-3.5,0),color:"rgba(0, 255, 0, 255)"}))})}function M(){if(!D||F)return te;var e=function(){var e=[];if(N.some(function(e){return w(e,H)})){S(H,e);var n=ne({playerDying:!0,particles:T.concat(e),playerBullets:[],enemyBullets:[]});return{v:n}}var t=D,r=[],u=[];R.forEach(function(n){var t=P(n);t&&(r.push(t),u.push(n),b(n,e))});var o=R.filter(function(e){return-1===u.indexOf(e)}),i=z.filter(function(e){return-1===r.indexOf(e)});if(0===i.length)return{v:x()};var n=ne({gameRunning:t,playerBullets:o,enemies:i,particles:T.concat(e)});return{v:n}}();return"object"==typeof e?e.v:void 0}function _(e){return F?0==T.length?h():y().enemyCollisionWithBorder().enemyShootsAI().bulletCollision():l(e).updateBodies().enemyCollisionWithBorder().enemyShootsAI().bulletCollision()}var j=e.inputs,O=e.x,E=void 0===O?0:O,C=e.y,I=void 0===C?0:C,K=e.gameRunning,D=void 0===K?!0:K,k=e.playerDying,F=void 0===k?!1:k,A=e.playerBullets,R=void 0===A?[]:A,L=e.enemyBullets,N=void 0===L?[]:L,G=e.particles,T=void 0===G?[]:G,W=e.enemies,z=void 0===W?n():W,q=e.player,H=void 0===q?(0,i.Player)({}):q,X=e.playerBulletNframeCounter,Y=void 0===X?0:X,J=e.playerFinalBulletNframeCount,Q=void 0===J?10:J,U=e.velX,V=void 0===U?.2:U,Z=e.thisFrameDuration,$=void 0===Z?0:Z,ee=(0,i.AssocMixin)(r,e),ne=(0,i.MergeMixin)(r,e);u(z),u(R),u(N),u(T);var te=u({x:E,y:I,gameRunning:D,playerDying:F,enemyBullets:N,playerBullets:R,particles:T,enemies:z,playerFinalBulletNframeCount:Q,playerBulletNframeCounter:Y,player:H,updatePlayerAction:l,updateIfGameIsRunning:f,bulletCollision:M,enemyCollisionWithBorder:B,enemyShootsAI:g,updateBodies:y,playerShoots:v,updateGameLoop:_,assoc:ee,merge:ne,thisFrameDuration:$});return te}var u=t(2)["default"],o=t(1)["default"];Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var i=t(10),a=t(8);e.exports=n["default"]},function(e,n,t){t(25),e.exports=t(3).Object.assign},function(e,n,t){t(26),e.exports=t(3).Object.freeze},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(14);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,u){return e.call(n,t,r,u)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n,t){var r=t(15);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,n,t){var r=t(21),u=t(24),o=t(19);e.exports=t(7)(function(){var e=Object.assign,n={},t={},r=Symbol(),u="abcdefghijklmnopqrst";return n[r]=7,u.split("").forEach(function(e){t[e]=e}),7!=e({},n)[r]||Object.keys(e({},t)).join("")!=u})?function(e,n){for(var t=u(e),i=arguments,a=i.length,c=1,l=r.getKeys,s=r.getSymbols,f=r.isEnum;a>c;)for(var d,y=o(i[c++]),p=s?l(y).concat(s(y)):l(y),v=p.length,m=0;v>m;)f.call(y,d=p[m++])&&(t[d]=y[d]);return t}:Object.assign},function(e,n,t){var r=t(6),u=t(3),o=t(7);e.exports=function(e,n){var t=(u.Object||{})[e]||Object[e],i={};i[e]=n(t),r(r.S+r.F*o(function(){t(1)}),"Object",i)}},function(e,n,t){var r=t(17);e.exports=function(e){return Object(r(e))}},function(e,n,t){var r=t(6);r(r.S+r.F,"Object",{assign:t(22)})},function(e,n,t){var r=t(20);t(23)("freeze",function(e){return function(n){return e&&r(n)?e(n):n}})}]);