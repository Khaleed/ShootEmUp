!function(e){function n(r){if(t[r])return t[r].exports;var u=t[r]={exports:{},id:r,loaded:!1};return e[r].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";var r=t(2)["default"],u=t(3)["default"],o=t(5)["default"],i=t(4),a=o(i),c=t(8),s=o(c),l=t(10),f=o(l);!function(){function e(e,n){e.enemies.length>n.enemies.length&&a["default"].invaderDiesSound.play()}var n=a["default"].canvas;s["default"].addListeners(),window.addEventListener("load",function(){function t(e){d.fillStyle=e.color,d.fillRect(e.x,e.y,e.w,e.h)}function o(e){d.drawImage(y,e.x,e.y)}function i(e){d.drawImage(p,e.x,e.y)}function c(e){d.clearRect(0,0,n.width,n.height),e.enemies.map(function(e){return i(e)}),e.enemyBullets.concat(e.playerBullets).map(function(e){return t(e)}),e.particles.map(function(e){return t(e)}),e.player&&o(e.player),setTimeout(function(){return l(e)},1)}function l(n){var t=r({},s["default"]);u(t);var o=n.updateIfGameIsRunning(t);e(n,o),c(o)}var d=void 0,y=document.getElementById("player"),p=document.getElementById("invader");void 0===n.getContext?console.error("browser does not support canvas"):d=n.getContext("2d"),n.width=800,n.height=600,c((0,f["default"])({inputs:a["default"]}))})}()},function(e,n){var t=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=t)},function(e,n,t){e.exports={"default":t(11),__esModule:!0}},function(e,n,t){e.exports={"default":t(12),__esModule:!0}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={canvas:document.getElementById("screen"),status:document.getElementById("status"),playerShootSound:document.getElementById("player-shoots"),invaderShootSound:document.getElementById("invader-shoots"),invaderDiesSound:document.getElementById("invader-explodes"),playerDiesSound:document.getElementById("player-explodes")},e.exports=n["default"]},function(e,n){"use strict";n["default"]=function(e){return e&&e.__esModule?e:{"default":e}},n.__esModule=!0},function(e,n,t){var r=t(17),u=t(1),o=t(15),i="prototype",a=function(e,n,t){var c,s,l,f=e&a.F,d=e&a.G,y=e&a.S,p=e&a.P,v=e&a.B,m=e&a.W,x=d?u:u[n]||(u[n]={}),g=d?r:y?r[n]:(r[n]||{})[i];d&&(t=n);for(c in t)s=!f&&g&&c in g,s&&c in x||(l=s?g[c]:t[c],x[c]=d&&"function"!=typeof g[c]?t[c]:v&&s?o(l,r):m&&g[c]==l?function(e){var n=function(n){return this instanceof e?new e(n):e(n)};return n[i]=e[i],n}(l):p&&"function"==typeof l?o(Function.call,l):l,p&&((x[i]||(x[i]={}))[c]=l))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,e.exports=a},function(e,n){e.exports=function(e){try{return!!e()}catch(n){return!0}}},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={rightPressedKey:!1,leftPressedKey:!1,spacePressedKey:!1,rPressedKey:!1,addListeners:function(){var e=this;document.addEventListener("keyup",function(n){37===n.keyCode?e.leftPressedKey=!1:39===n.keyCode?e.rightPressedKey=!1:32===n.keyCode?e.spacePressedKey=!1:82===n.keyCode&&(e.rPressedKey=!1)}),document.addEventListener("keydown",function(n){37===n.keyCode?e.leftPressedKey=!0:39===n.keyCode?e.rightPressedKey=!0:32===n.keyCode?e.spacePressedKey=!0:82===n.keyCode&&(e.rPressedKey=!0)})}},e.exports=n["default"]},function(e,n,t){"use strict";function r(e,n){return function(t,r){var u=y({},n);return u[t]=r,e(u)}}function u(e,n){return function(t){var r=y({},n),u=y(r,t);return e(u)}}function o(e,n){for(var t=arguments,r=!0;r;){var u=e,o=n;r=!1;for(var i=t.length,a=Array(i>2?i-2:0),c=2;i>c;c++)a[c-2]=t[c];if(u())return o();if(!(a.length>1)){if(1===a.length)return a[0]();throw"no matching values"}t=a,e=t[0],n=t[1],r=!0,i=a=c=void 0}}function i(e,n){var t=y([],e);return t.push(n),p(t),t}function a(e){var n=e.x,t=void 0===n?g.width/2:n,o=r(a,e),i=u(a,e),c=p({x:t,y:g.height-50,w:55,h:34,color:"blue",assoc:o,merge:i,update:function(){return c}});return c}function c(e){var n=e.x,t=e.y,o=r(c,e),i=u(c,e),a=p({x:n,y:t,w:25,h:25,color:"white",assoc:o,merge:i,update:function(e){return o("x",n+e)}});return a}function s(e){var n=e.x,t=e.y,o=e.d,i=e.color,a=r(s,e),c=u(s,e),l=p({x:n,y:t,w:5,h:5,d:o,color:i,assoc:a,merge:c,update:function(){return a("y",t+o)}});return l}function l(e){var n=e.x,t=e.y;return s({x:n,y:t,d:-1,color:"yellow"})}function f(e){var n=e.x,t=e.y;return s({x:n,y:t,d:1,color:"red"})}function d(e){var n=e.x,t=e.y,o=e.vx,i=e.vy,a=r(d,e),c=u(d,e),s=p({x:n,y:t,vx:o,vy:i,w:3,h:3,assoc:a,merge:c,color:"rgba(255, 255, 255,"+Math.random()+")",update:function(){return c({x:s.x+s.vx,y:s.y+s.vy,vx:s.vx,vy:s.vy+.01})}});return s}var y=t(2)["default"],p=t(3)["default"],v=t(5)["default"];Object.defineProperty(n,"__esModule",{value:!0}),n.AssocMixin=r,n.MergeMixin=u,n.cond=o,n.conjoin=i,n.Player=a,n.Enemy=c,n.Bullet=s,n.PlayerBullet=l,n.EnemyBullet=f,n.Particle=d;var m=t(4),x=v(m),g=x["default"].canvas},function(e,n,t){"use strict";function r(e,n){var t=e.x<n.x+n.w,r=n.x<e.x+e.w,u=e.y+e.h>n.y,o=n.y+n.h>e.y;return t&&r&&u&&o}function u(e,n){for(var t=[],r=e;n>r;r+=1)t.push(r);return a(t)}function o(){var e=u(0,8);return e.map(function(n){return e.map(function(e){return(0,s.Enemy)({x:45*n,y:20+45*e})})}).reduce(function(e,n){return e.concat(n)})}function i(e){function n(e){return(0,s.cond)(function(){return e.leftPressedKey===!0&&G.x>0},function(){return-1},function(){return e.rightPressedKey===!0&&G.x<b.canvas.width-55},function(){return 1},function(){return 0})}function t(e){return Y("player",(0,s.cond)(function(){return G},function(){return G.assoc("x",G.x+n(e)*Q)},function(){return!1}))}function u(e){return(0,s.cond)(function(){return e.spacePressedKey===!0},function(){return t(e).playerShoots()},function(){return t(e)})}function l(n){return n.rPressedKey?i({args:e}):V}function f(e){var n=l(e);return _?n.updateGameLoop(e):n}function d(){return q({playerBullets:I.map(function(e){return e.update()}),enemyBullets:k.map(function(e){return e.update()}),particles:L.map(function(e){return e.update()}),player:G.update(),enemies:D.map(function(e){return e.update(X)})})}function y(){return b.playerShootSound.play(),(0,s.conjoin)(I,(0,s.PlayerBullet)({x:G.x+G.w/2,y:G.y}))}function p(){var e=(0,s.cond)(function(){return 0===T},y,function(){return I}),n=(0,s.cond)(function(){return T>0},function(){return T-1},function(){return z}),t=q({playerBulletNframeCounter:n,playerBullets:e});return t}function v(){var e=Math.floor(Math.random()*(D.length-1)),n=D[e],t=c([],k),r=(0,s.EnemyBullet)({x:n.x,y:n.y});t.push(r),b.invaderShootSound.play();var u=Y("enemyBullets",t);return u}function m(){return 100*Math.random()<=1?v():V}function x(){return b.status.innerHTML="You lose",q({gameRunning:!1,enemies:[],enemyBullets:[],playerBullets:[],particles:[],player:!1})}function g(){return b.status.innerHTML="You win",q({gameRunning:!1,enemies:[],playerBullets:[],enemyBullets:[],particles:[]})}function h(){var e=X,n=D,t=_;if(D.length>0){var r=D[0].x,u=D[D.length-1].x+D[0].w;(0>r||u>b.canvas.width)&&(e=-1*e,n=D.map(function(e){var n=e.y+J;return e.assoc("y",n)}));var o=n.some(function(e){return e.y>U});if(o)return x();var i=q({velX:e,enemies:n,gameRunning:t});return i}}function B(e){return D.reduce(function(n,t){return n||(r(t,e)?t:null)},null)}function w(){if(!_)return V;var e=function(){if(k.some(function(e){return r(e,G)}))return{v:x()};var e=_,n=[],t=[],u=[];I.forEach(function(e){var r=B(e);if(r){n.push(r),t.push(e);for(var o=0;10>o;o++)u.push((0,s.Particle)({x:e.x,y:e.y,vx:.3*(2*Math.random()-1),vy:-1*Math.random()}))}});var o=I.filter(function(e){return-1===t.indexOf(e)}),i=D.filter(function(e){return-1===n.indexOf(e)});if(0===i.length)return{v:g()};var a=q({gameRunning:e,playerBullets:o,enemies:i,particles:L.concat(u)});return{v:a}}();return"object"==typeof e?e.v:void 0}function P(e){return u(e).updateBodies().enemyCollisionWithBorder().enemyShootsAI().bulletCollision()}var b=e.inputs,M=e.x,S=void 0===M?0:M,j=e.y,E=void 0===j?0:j,O=e.gameRunning,_=void 0===O?!0:O,C=e.playerBullets,I=void 0===C?[]:C,K=e.enemyBullets,k=void 0===K?[]:K,R=e.particles,L=void 0===R?[]:R,F=e.enemies,D=void 0===F?o():F,N=e.player,G=void 0===N?(0,s.Player)({}):N,A=e.playerBulletNframeCounter,T=void 0===A?0:A,W=e.playerFinalBulletNframeCount,z=void 0===W?40:W,H=e.velX,X=void 0===H?2:H,Y=(0,s.AssocMixin)(i,e),q=(0,s.MergeMixin)(i,e);a(D),a(I),a(k),a(L);var J=10,Q=5,U=500,V=a({x:S,y:E,gameRunning:_,enemyBullets:k,playerBullets:I,particles:L,enemies:D,playerFinalBulletNframeCount:z,playerBulletNframeCounter:T,player:G,updateIfGameIsRunning:f,bulletCollision:w,enemyCollisionWithBorder:h,enemyShootsAI:m,updateBodies:d,playerShoots:p,updateGameLoop:P,assoc:Y,merge:q});return V}var a=t(3)["default"],c=t(2)["default"];Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i;var s=t(9);e.exports=n["default"]},function(e,n,t){t(24),e.exports=t(1).Object.assign},function(e,n,t){t(25),e.exports=t(1).Object.freeze},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,n){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(13);e.exports=function(e,n,t){if(r(e),void 0===n)return e;switch(t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,u){return e.call(n,t,r,u)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,n,t){var r=t(14);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var t=Object;e.exports={create:t.create,getProto:t.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:t.getOwnPropertyDescriptor,setDesc:t.defineProperty,setDescs:t.defineProperties,getKeys:t.keys,getNames:t.getOwnPropertyNames,getSymbols:t.getOwnPropertySymbols,each:[].forEach}},function(e,n,t){var r=t(20),u=t(23),o=t(18);e.exports=t(7)(function(){var e=Object.assign,n={},t={},r=Symbol(),u="abcdefghijklmnopqrst";return n[r]=7,u.split("").forEach(function(e){t[e]=e}),7!=e({},n)[r]||Object.keys(e({},t)).join("")!=u})?function(e,n){for(var t=u(e),i=arguments,a=i.length,c=1,s=r.getKeys,l=r.getSymbols,f=r.isEnum;a>c;)for(var d,y=o(i[c++]),p=l?s(y).concat(l(y)):s(y),v=p.length,m=0;v>m;)f.call(y,d=p[m++])&&(t[d]=y[d]);return t}:Object.assign},function(e,n,t){var r=t(6),u=t(1),o=t(7);e.exports=function(e,n){var t=(u.Object||{})[e]||Object[e],i={};i[e]=n(t),r(r.S+r.F*o(function(){t(1)}),"Object",i)}},function(e,n,t){var r=t(16);e.exports=function(e){return Object(r(e))}},function(e,n,t){var r=t(6);r(r.S+r.F,"Object",{assign:t(21)})},function(e,n,t){var r=t(19);t(22)("freeze",function(e){return function(n){return e&&r(n)?e(n):n}})}]);